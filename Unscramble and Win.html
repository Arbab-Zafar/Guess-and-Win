<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unscramble and Win</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Lato&family=PT+Sans&family=Poppins:wght@300&family=Roboto:wght@300;400;700&display=swap');

        @import url('https://fonts.googleapis.com/css2?family=Lato&family=PT+Sans&family=Poppins:wght@300&family=Roboto:wght@300;400;700&display=swap');

        body {
            font-family: 'Poppins', sans-serif, 'Roboto';
            margin: 0px;
            padding: 0px;
            background-image: linear-gradient(rgba(208, 197, 197, 0.5), rgba(255, 253, 253, 0.5)), url(https://wallpaperaccess.com/full/187170.jpg);
            background-repeat: no-repeat;
            background-size: cover;
            opacity: 1;
            margin-top: 0px;
            height: 563px;
        }

        /* Styling Nav and header */
        nav {
            /* background-color: rgb(201, 103, 237); */
            /* border-bottom: 1.5px solid rgb(21, 20, 20); */
            box-shadow: 5px 4px 3px #2c2a2a;;
        }
        


        ul {
            display: flex;
            align-items: center;
            list-style: none;
            margin-bottom: 0px;
        }



            nav ul li {
            margin: 3px 30px 3px 0px;
            color: rgb(0, 0, 0);
        }
        
        #log {
            position: relative;
            left: 166px;
        }

        #sign {
            position: relative;
            left: 186px;
        }

        .game {
            position: relative;
            left: 20px;
            font-size: 19px;
        }

        #ga {
            position: relative;
            left: 20px;
            font-size: 19px;
            text-decoration: underline;
        }

        #logo {
            font-size: 30px;
            font-weight: bold;
        }

        a {
            text-decoration: none;
            color: white;
        }

        /* Styling main */
        h1 {
            text-align: center;
            color: red;
            text-decoration: underline;
            position: relative;
            top: 16px;
        }

        #un {
            text-decoration: underline;
        }

        .srambledword {
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            color: blue;
        }

        .noofletters {
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            color: rgb(62, 207, 120);
        }

        .timeremaining {
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            color: rgb(207, 217, 23);
        }

        .input {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .result {
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
        }

        .chances {
            display: inline;
            left: 1022px;
            color: magenta;
            position: relative;
            top: -127px;
        }
        #chances{
            display: inline;
        }
        .info {
            display: inline;
            margin-left: 15px;
            right: 75px;
            position: relative;
            top: -127px;
            color: rgb(255 0 204);
        }
        #info{
            display: inline;
            font-size: 21px;
        }
    </style>
</head>

<body>
    <header>
        <nav class="nav">
            <ul class="ul">
                <a href="index.html">
                    <li id="logo">Play and Win</li>
                </a>
                <a href="Guess and Win.html">
                    <li class="game">Guess and Win</li>
                </a>
                <a href="Calculate and Win.html">
                    <li class="game">Calculate and Win</li>
                </a>
                <a href="Unscramble and Win.html">
                    <li class="game" id="un">Unscramble and Win</li>
                </a>
                <li id="log">Log-In</li>
                <li id="sign">Sign-Up</li>
            </ul>
        </nav>
    </header>
    <main>
        <h1>Welcome to Unscramble and Win</h1>
        <div class="srambledword">
            <p id="scrambledword"></p>
        </div>
        <div class="input"></div>
        <div class="noofletters">
            <p id="noofletters"></p>
        </div>
        <div class="timeremaining">
            <p id="timeremaining"></p>
        </div>
        <div class="result"></div>
        <div class="chances">
            <p id="chances"></p>
        </div>
        <div class="info">
            <p id="info"></p>
        </div>
    </main>
    <script>
        //Second MEthod --- I can understand it half
        let scrambledword = document.querySelector("#scrambledword");
        let noofletters = document.querySelector("#noofletters");
        let inputdiv = document.querySelector(".input");
        let resultdiv = document.querySelector(".result");
        let timeremaining = document.querySelector("#timeremaining");
        let chances = document.querySelector("#chances");
        let info = document.querySelector("#info");
        let chance = 3;
        let a = "HELLO"
        // function to pick a random word 
        let word = ["Hello", "Bottle", "Scissors", "Television", "Evaporation", "Condensation", "Chlorophyll", "Photosynthesis", "Electronics", "Pencil", "Water", "Face", "Raincoat", "Rubber", "Wood", "Eyes", "Ear", "Actor", "Cloud", "Rain", "Precipitation"],
            wordtouse = word[Math.floor(Math.random() * word.length)];


        //function to shuffle letters


        function getRandomInt(n) {
            return Math.floor(Math.random() * n);
        }
        function shuffle(word) {
            let arr = word.split('');           // Convert String to array
            let n = arr.length;              // Length of the array

            for (let i = 0; i < n - 1; ++i) {
                let j = getRandomInt(n);       // Get random of [0, n-1]

                let temp = arr[i];             // Swap arr[i] and arr[j]
                arr[i] = arr[j];
                arr[j] = temp;
            }
            noofletters.innerText = `No. of letters : ${arr.length}`;
            word = arr.join('');                // Convert Array to string
            if (word != wordtouse) {
            return word;                        // Return shuffled string
            }
            else{
                if (word != wordtouse) {
            return word;                        // Return shuffled string
            }
            else{
                for (let i = 0; i < n - 1; ++i) {
                let j = getRandomInt(n);       // Get random of [0, n-1]

                let temp = arr[i];             // Swap arr[i] and arr[j]
                arr[i] = arr[j];
                arr[j] = temp;
            } 
        }
            }
        }
        let timeleft = 26
        let countdowntimer = setInterval(() => {
            if (timeleft == 0) {
                clearInterval(countdowntimer);
                info.innerText = "Time is Over";
                input.setAttribute("type", "number")
            }
            else {
                timeremaining.innerText = `${timeleft - 1}`
            }
            timeleft = timeleft - 1;


        }, 1000);
        chances.innerText = `Chances left : ${chance}`
        let input = document.createElement("input");
        input.focus();
        inputdiv.focus()
        input.setAttribute("id", "input")
        input.setAttribute("type", "text")
        input.style.width = "349px"
        input.style.height = "27px";
        input.style.outline = 'none';
        input.style.borderRadius = "4px";
        input.style.border = "1px solid black";
        input.style.paddingLeft = "15px";
        inputdiv.appendChild(input);
        word1 = shuffle(wordtouse);
        scrambledword.innerText = `${word1}`;
        input.addEventListener("keypress", (event) => {
            if (event.keyCode === 13) {
                event.preventDefault();
                if(chance > 0 ){
                    chance = chance - 1;
                    chances.innerText = `Chances left : ${chance}`
                if (input.value == wordtouse) {
                    clearInterval(countdowntimer);
                    let marqueetext = document.createElement("marquee");
                    marqueetext.setAttribute("direction", "left");
                    marqueetext.style.width = "70%";
                    marqueetext.style.color = "orange";
                    marqueetext.innerHTML = "Congratulations! You have guessed the correct word"
                    resultdiv.appendChild(marqueetext);
                }
                else {
                    info.innerText = 'Wrong Answer! Try again';

                }
            }
            else{
                clearInterval(countdowntimer);
                info.innerText = "Chances are Over!"
            }
            }
        })
// First Method -- I cant' understand it well
// function shuffle(s) {
    //     let arr = s.split('');           // Convert String to array
    
        //     arr.sort(function () {
        //         return 0.5 - Math.random();
        //     });
        //     s = arr.join('');                // Convert Array to string
        //     return s;                        // Return shuffled string
        // }
        // a = shuffle(a);

        // console.log(a);
    </script>
</body>

</html>
